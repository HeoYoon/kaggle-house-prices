---
title: "House prices"
author: "YOON HEO"
date: '2020 2 21 '
output: html_document
---

### Library
```{r, warning=FALSE, message=FALSE}
library(tidyverse)
library(ggplot2)
library(corrplot)
library(MASS)
library(caret)
library(e1071)
select <-dplyr::select
```

```{r, warning=FALSE, message=FALSE}
train <-read.csv("train.csv", stringsAsFactors = TRUE)
test <- read.csv("test.csv", stringsAsFactors = TRUE)
train$set <- "train"
test$set <- "set"
data <- dplyr::bind_rows(train,test)
dim(data)
```

## Missing value check

```{r, fig.align='center', fig.height=9, fig.width=9}

missingValue <- data %>%
  select(-SalePrice) %>%
  summarise_all(funs( sum(is.na(.)) / n() )) %>%
  gather()

missingValue %>%
  filter(value > 0) %>%
  ggplot(aes(reorder(key,value), value, fill = key)) +
  geom_bar(stat ="identity") +
  geom_label(aes(label = paste0( round(value *100,2), "%" ))) +
  coord_flip() + xlab("") + ylab("") +
  theme_bw() +
  theme(legend.position = "none")
```

### 밑에서부터;;;

```{r, warning=FALSE, message=FALSE}

### 흑흑 너무 많다 ㅠㅠㅠ

## 0.03% 짜리 친구들

#BsmtFinSF1
data$BsmtFinSF1[is.na(data$BsmtFinSF1)] <- getmode(data$BsmtFinSF1)

#BsmtFinSF2
data$BsmtFinSF2[is.na(data$BsmtFinSF2)] <- getmode(data$BsmtFinSF2)

#BsmtUnfSF
data$BsmtUnfSF[is.na(data$BsmtUnfSF)] <- getmode(data$BsmtUnfSF)

# Electrical 
data$Electrical[is.na(data$Electrical)] <- getmode(data$Electrical)

# Exterior1st
data$Exterior1st[is.na(data$Exterior1st)] <- getmode(data$Exterior1st)

# Exterior2nd
data$Exterior2nd[is.na(data$Exterior2nd)] <- getmode(data$Exterior2nd)

# GarageArea
data$GarageArea[is.na(data$GarageArea)] <- getmode(data$GarageArea)

# GarageCars
data$GarageCars[is.na(data$GarageCars)] <- getmode(data$GarageCars)

# KitchenQual
data$KitchenQual[is.na(data$KitchenQual)] <- getmode(data$KitchenQual)

# SaleType
data$SaleType[is.na(data$SaleType)] <- getmode(data$SaleType)

# TotalBsmtSF
data$TotalBsmtSF[is.na(data$TotalBsmtSF)] <- getmode(data$TotalBsmtSF)

## 0.07% 짜리 친구들

# BsmtFullBath
data$BsmtFullBath[is.na(data$BsmtFullBath)] <- getmode(data$BsmtFullBath)

#BsmtHalfBath
data$BsmtHalfBath[is.na(data$BsmtHalfBath)] <- getmode(data$BsmtHalfBath)

# Functional
data$Functional[is.na(data$Functional)] <- getmode(data$Functional)

# Utilities
data$Utilities[is.na(data$Utilities)] <- getmode(data$Utilities)

## 6% 미만인 친구들

# MSZoning
data$MSZoning[is.na(data$MSZoning)] <- getmode(data$MSZoning)

# MasVnrArea
data$MasVnrArea[is.na(data$MasVnrArea)] <- getmode(data$MasVnrArea)

# MasVnrType
data$MasVnrType[is.na(data$MasVnrType)] <- getmode(data$MasVnrType)

# BsmtFinType1
data$BsmtFinType1[is.na(data$BsmtFinType1)] <- getmode(data$BsmtFinType1)

# BsmtFinType2
data$BsmtFinType2[is.na(data$BsmtFinType2)] <- getmode(data$BsmtFinType2)

# BsmtQual
data$BsmtQual[is.na(data$BsmtQual)] <- getmode(data$BsmtQual)

# BsmtCond
data$BsmtCond[is.na(data$BsmtCond)] <- getmode(data$BsmtCond)

# BsmtExposure
data$BsmtExposure[is.na(data$BsmtExposure)] <- getmode(data$BsmtExposure)

# GarageType
data$GarageType[is.na(data$GarageType)] <- getmode(data$GarageType)

# GarageCond
data$GarageCond[is.na(data$GarageCond)] <- getmode(data$GarageCond)

# GarageFinish
data$GarageFinish[is.na(data$GarageFinish)] <- getmode(data$GarageFinish)

# GarageQual
data$GarageQual[is.na(data$GarageQual)] <- getmode(data$GarageQual)

# GarageYrBlt
data$GarageYrBlt[is.na(data$GarageYrBlt)] <- getmode(data$GarageYrBlt)

## 16.65% 

# LotFrontage
data %>% 
  group_by(LotFrontage) %>%
  count()

## Linear regression Le's go


```








